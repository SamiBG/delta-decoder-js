<!doctype html>
<html>
<!--
      ___             _ ___  ___
     / __| __ _ _ __ (_) _ )/ __|
     \__ \/ _` | '  \| | _ \ (_ |
     |___/\__,_|_|_|_|_|___/\___|
-->
<head>
    <meta charset="utf-8">
    <title>Marklin Delta Address Converter</title>
    <link rel="stylesheet" href="css/main.css">
    <script type="text/javascript" src="js/main.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
    <div id="div_header">
        <h1>Delta Address Converter</h1>
        <input type="text" id="conv_val" name="conv_val" class="input">
        <button type="button" id="btn_convert" class="button">Convert</button>
    </div>

    <div id="div_content">
        <div id="error"></div>
        <span class="address">
            <label for="addr_b10">Digital Address</label>
            <input type="text" id="addr_b10" name="addr_b10" readonly="readonly" class="output">
        </span>
        <span class="address">
            <label for="addr_d4">DIP 4</label>
            <input type="text" id="addr_d4" name="addr_d4" readonly="readonly" class="output">
        </span>
        <span class="address">
            <label for="addr_d8">DIP 8</label>
            <input type="text" id="addr_d8" name="addr_d8" readonly="readonly" class="output">
        </span>
    </div>
</body>

<script>
    $(document).ready(function() {
        $("#btn_convert").attr('onclick', 'convert()');
    });

    function convert(){
        $("#addr_b10").val("");
        $("#addr_d4").val("");
        $("#addr_d8").val("");
        $("#error").html("");
        try {
            addr = conversor($("#conv_val").val());
            $("#addr_b10").val(addr.b10);
            $("#addr_d4").val(addr.d4);
            $("#addr_d8").val(addr.d8);
        } catch (e){
            $("#error").html('<input type="text" id="result" name="result" readonly="readonly" class="error">');
            $("#result").val(e);
        }
    }

</script>
</html>
